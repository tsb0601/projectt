dataset:
  type: imagenet
  transforms:
    type: imagenet256x256

arch:
  type: dummy
  hparams:
    decay: 0.99
    restart_unused_codes: true
    loss_type: mse
    latent_loss_weight: 0.25
  checkpointing: false
 

optimizer:
  # Original VQ-GAN: lr = 4.5e-06 * (batch size) -> 5.4e-5 for batch size 12
  type: adam
  init_lr: 4.0e-5
  weight_decay: 0.0
  betas: [0.5, 0.9]
  warmup:
    epoch: 0.5  # 5% of total epochs
    multiplier: 1
    buffer_epoch: 0
    min_lr: 4.0e-5
    mode: fix


experiment:
  batch_size: 256
  epochs: 10
  save_ckpt_freq: 5
  test_freq: 1

gan:
  disc:
    arch:
      in_channels: 3
      num_layers: 2
      use_actnorm: False
      ndf: 4
      spectral_norm: False

  loss:
    disc_loss: hinge
    gen_loss: vanilla
    disc_weight: 0.75
    perceptual_weight: 1.0
    disc_start: 0
